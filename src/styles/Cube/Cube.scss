@use 'sass:math';
@use "sass:string";
@import '../Tool/mixins';
@import '../Tool/variables';

$cubeSize: 400px;

.cube__container 
{
    margin-left: 100px;
}

.cube__container, .cube 
{
    width: $cubeSize;
    height: $cubeSize;
    transform-style: preserve-3d;
}

.cube__container 
{
    @include flexContainer(column, center, flex-start, wrap);
    perspective: math.div($cubeSize * 4, 3);
}

.cube 
{
    position: relative;
    transition: transform 1s ease-in-out;
    backface-visibility: hidden;
    will-change: transform;

    //FACE
    &__side 
    {
        display: flex;
        box-sizing: border-box;
        width: 100%;
        height: 100%;
        position: absolute;
        border: 10px double $lightblue; 
        padding: 0 20px 0;
        opacity: 1;
        will-change: transform;
        //overflow: hidden;

        &--front 
        {
            transform: translateZ(math.div($cubeSize, 2) + 13px);
        }

        &--back 
        {
            transform: rotateY(180deg) translateZ(math.div($cubeSize, 2) + 13px);
        }

        &--left 
        {
            transform: rotateY(-90deg) translateZ(math.div($cubeSize, 2) + 13px);
        }

        &--right 
        {
            transform: rotateY(90deg) translateZ(math.div($cubeSize, 2) + 13px);
        }

        &--top 
        {
            transform: rotateX(90deg) translateZ(math.div($cubeSize, 2) + 13px);
        }

        &--bottom 
        {
            transform: rotateX(-90deg) translateZ(math.div($cubeSize, 2) + 13px);
        }

        //BORDER EXTERNE TOP
        &::before
        {
            content: "";
            position: absolute;
            top: -19px;
            left: -19px;
            background-color: $lightblue;
            width: 200px;
            height: 10px;
            clip-path: polygon(0 0, 97% 0, 100% 100%, 0% 100%);
        }

        //BORDER EXTERNE LEFT
        &::after
        {
            content: "";
            position: absolute;
            top: -10px;
            left: -19px;
            background-color: $lightblue;
            width: 10px;
            height: 100px;
            clip-path: polygon(0 0, 97% 0, 100% 100%, 0% 100%);
        }
    }

    .dashed
    {
        
        height: 10px;
        position: absolute;
        top: -19px;
        left: 175px;
        display: flex;
        justify-content: space-between;
        column-gap: 5px;
        z-index: 999;
        
        &__part
        {
            height: 100%;
            width: 5px;
            background-color: $lightblue;
            transform: skewX(30deg);
        }
    }

    .squares
    {
        height: 12px;
        position: absolute;
        bottom: -19px;
        left: 20px;
        width: 250px;
        border: 1px solid $lightblue;
        border-top: 0;
        padding: 0 5px 10px;
        display: flex;
        justify-content: space-between;

        &__item
        {
            height: 9px;
            width: 8px;
            background-color: $lightblue;
        }
    }

    .broken
    {
        
        position: absolute;
        bottom: -10px;
        right: 0;
        //border: 10px solid white;
        width: 60px;
        height: 60px; 
        z-index: 999;
        //transform: skewX(-30deg);
    }
}

//OPACITÃ‰ DES FACES INACTIVES
.opaque 
{
    opacity: 0.2;
}

.rotation--front 
{
    transform: rotateX(0deg) rotateY(0deg);
}

.rotation--back 
{
    transform: rotateX(0deg) rotateY(180deg);
}

//SERVICES
.rotation--left 
{
    transform: rotateX(0deg) rotateY(90deg);
}

//TECHNOLOGIES
.rotation--right 
{
    transform: rotateX(0deg) rotateY(-90deg);
}

.rotation--top 
{
    transform: rotateX(-90deg) rotateY(0deg);
}

.rotation--bottom 
{
    transform: rotateX(90deg) rotateY(0deg);
}
